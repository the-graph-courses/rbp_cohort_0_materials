---
title: "Extra Credit - Workshop 4: Instructions & Code Untangling"
output:
  prettydoc::html_pretty:
    theme: architect
    toc: true
author: "Group_member_1 and group_member_2"
date: "2022-11-01"
editor_options: 
  markdown: 
    wrap: 72
---

```{r include = FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

*Final due date:* **January 1st, 2023** (You must hand in 1 Rmd **per
person**)

(You are encouraged to visit one of our study halls if you need
assistance with this later.)

# Global Instructions

Welcome!

Today's exercise will be done on your own:

1.  First download the course repo
    [here](https://minhaskamal.github.io/DownGit/#/home?url=https://github.com/the-graph-courses/rbp_cohort_0_materials){target="_blank"}.
    (You will mostly work locally today). Unzip the downloaded folder,
    then click on the ".Rproj" file to open the project in RStudio. From
    the Files pane of RStudio, open the "week_04" folder.

2.  In the "rmd" sub-folder, the instructions for your exercise are
    outlined (these are the same instructions you see here).

3.  **Today we will work only with 1 dataset** in the "data" folder.
    (You can click on the links in the document titled
    "00_info_about_each_dataset" to see its associated paper.) In the
    same folder, you also have the **METADATA** for this dataset,
    "rabies_metadata.pdf" : the metadata is the data explaining certain
    variables of the dataset as well as the codes used to encode
    variables.

4.  Next, perform the tasks below. **Your output will be several
    different CSV files, which you will ZIP together with this Rmd and
    hand in.**

5.  Remember good code practices:

    a.  Standard naming

    b.  Code comments

    c.  Proper spacing and indenting

------------------------------------------------------------------------

# Your Task

You will make using the rabies dataset collected in four different
geographical regions in Punjab and Khyber Pakhtunkhwa provinces in
Pakistan.

Today, you will be caring out a new task as a data analyst: preparing
datasets for **someone else to use**. This someone else could be your
colleague, a hospital or a health organization your are working with,
students you might teach, or many other coder/non-coder persona.

It is a hands-on approach to using select and filter. All the code you
use to make these datasets should be stored in this Rmd.

**IMPORTANT #1: For ALL tasks below, in addition to the variables you
should extract, please ALWAYS keep the respondent ID variable! Without
it, you cannot link back your data to the original dataset and you loose
crucial information.**

**IMPORTANT #2 : Appropriately-named CSV file in the "data" subfolder of
your project.**

**IMPORTANT #3 : All extractions tasks are independent.**

**Your output**: At the end of the lesson, you will zip up the week_04
folder and upload it to the Assignment page on our web platform.

## Read over the metadata

**Reading and understanding the metadata is essential to correctly
analyse your data.**

You will see that your data for today is heavily encoded (all variables
are numbers corresponding to categories). Without the metadata, you
cannot know what the number categories correspond to!

## Load the R packages

Nothing will run unless you load the packages you need to code.

**Pro tip: Try to write code to load your packages which can take care
of loading them even if they are not installed yet.**

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```

## Load the data

Nothing can happen until you load your data. The data you load in should
have 1466 rows and 23 columns.

**Pro tip: Try to write a path to your data as easy to use for someone
else as possible.**

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```

## Small Data Cleaning

### Bring the respondent ID to the front

The respondent ID is the 23rd column of your dataset: we would like it
to be more visible so that someone who opens up the CSV knows
immediately that each row corresponds to a respondent.

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```

### Remove the education variable

As you can see from the metadata, the education variable has not been
documented correctly. Remove this variable from your dataset: it is
unusable.

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```

## **Data Subset 1:** Extract demographics information

Demographic information is defined as:

-   age

-   gender

-   geographic background

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```

## **Data Subset 2:** Extract all male adults from the dataset

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```

## **Data Subset 3:** Extract the most at risk population

Extract those who have a pet at home, without access to health
facilities, and who consider that the rabies vaccine is not affordable
for them.

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```

## **Data Subset 4:** Extract the knowledge-evaluation survey question variables

Reading the metadata, you will see that some variables correspond to
knowledge-evaluation questions about rabies, asked to the respondents.
We want to make a subset of the original dataset, keeping only those
survey question variables.

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```

## **Data Subset 5:** Extract all the respondents who have the right reflexes in the face of rabies

Having the right reflexes is defined as:

-   If they vaccinate their pets
-   If they know the signs for rabies
-   If they visit a doctor after being bitten by an animal

```{r message = F}
"WRITE_YOUR_CODE_HERE"
```
